{"changed":true,"filter":false,"title":"server.js","tooltip":"/Backend/webbook/server.js","value":"const host = process.env.HOST || '127.0.0.1';\nconst port = process.env.PORT || 8080;\nconst express = require('express');\nconst app = express();\n\n//carregar bibliotecas globais\nconst cors = require(\"cors\");\n/*const cookieParser = require('cookie-parser');\nconst bodyParser = require('body-parser');\nconst expressValidator = require('express-validator');\nconst expressSanitizer = require(\"express-sanitizer\");\nconst session = require('express-session');\nconst passport = require('passport');\n*/\napp.use('/assets', express.static('assets'));\napp.use('/views', express.static('views'));\n//app.use(bodyParser.json());\n//app.use(bodyParser.json(), bodyParser.urlencoded({extended : true}));\n//app.use(expressValidator());\n\n/*\n// For Passport\napp.use(session({ secret: 'keyboard cat',resave: true, saveUninitialized:true})); // session secret\n \napp.use(passport.initialize());\n \napp.use(passport.session()); // persistent login sessions\n*/\n\napp.listen(port, function(err){\n    if(!err){\n        console.log('Your app is listening on ' + host + ' and port ' + port);\n    }\n    else{\n        console.log(err);\n    }\n});\n\napp.use(cors());\n/*app.use(cookieParser());\napp.use(expressSanitizer());\napp.use(expressValidator());\n*/\nmodule.exports = app;\nrequire('./loader.js');\nrequire(\"./routes/main.route.js\");\nrequire(\"./controllers/partner.controller.js\");\nrequire(\"./controllers/operational.controller.js\");\nrequire(\"./controllers/request.controller.js\");\nrequire(\"./controllers/occurrence.controller.js\");\nrequire(\"./controllers/centralist.controller.js\");\nrequire(\"./controllers/management.controller.js\");\nrequire(\"./controllers/help_request.controller.js\");\nrequire(\"./controllers/login.controller.js\");","undoManager":{"mark":27,"position":41,"stack":[[{"start":{"row":43,"column":1},"end":{"row":43,"column":2},"action":"remove","lines":["/"],"id":3},{"start":{"row":43,"column":0},"end":{"row":43,"column":1},"action":"remove","lines":["/"]}],[{"start":{"row":43,"column":0},"end":{"row":43,"column":1},"action":"insert","lines":["/"],"id":4},{"start":{"row":43,"column":1},"end":{"row":43,"column":2},"action":"insert","lines":["/"]}],[{"start":{"row":43,"column":1},"end":{"row":43,"column":2},"action":"remove","lines":["/"],"id":5},{"start":{"row":43,"column":0},"end":{"row":43,"column":1},"action":"remove","lines":["/"]}],[{"start":{"row":43,"column":0},"end":{"row":43,"column":1},"action":"insert","lines":["/"],"id":6},{"start":{"row":43,"column":1},"end":{"row":43,"column":2},"action":"insert","lines":["/"]}],[{"start":{"row":43,"column":1},"end":{"row":43,"column":2},"action":"remove","lines":["/"],"id":7},{"start":{"row":43,"column":0},"end":{"row":43,"column":1},"action":"remove","lines":["/"]}],[{"start":{"row":43,"column":0},"end":{"row":43,"column":1},"action":"insert","lines":["/"],"id":8},{"start":{"row":43,"column":1},"end":{"row":43,"column":2},"action":"insert","lines":["/"]}],[{"start":{"row":43,"column":0},"end":{"row":43,"column":2},"action":"remove","lines":["//"],"id":9,"ignore":true}],[{"start":{"row":43,"column":0},"end":{"row":43,"column":2},"action":"insert","lines":["//"],"id":10,"ignore":true}],[{"start":{"row":44,"column":0},"end":{"row":44,"column":1},"action":"insert","lines":["/"],"id":11},{"start":{"row":44,"column":1},"end":{"row":44,"column":2},"action":"insert","lines":["*"]}],[{"start":{"row":52,"column":42},"end":{"row":52,"column":45},"action":"remove","lines":["\");"],"id":12},{"start":{"row":52,"column":42},"end":{"row":52,"column":43},"action":"insert","lines":["*"]},{"start":{"row":52,"column":43},"end":{"row":52,"column":44},"action":"insert","lines":["/"]}],[{"start":{"row":43,"column":1},"end":{"row":43,"column":2},"action":"remove","lines":["/"],"id":13},{"start":{"row":43,"column":0},"end":{"row":43,"column":1},"action":"remove","lines":["/"]}],[{"start":{"row":44,"column":1},"end":{"row":44,"column":2},"action":"remove","lines":["*"],"id":14},{"start":{"row":44,"column":0},"end":{"row":44,"column":1},"action":"remove","lines":["/"]}],[{"start":{"row":52,"column":43},"end":{"row":52,"column":44},"action":"remove","lines":["/"],"id":15},{"start":{"row":52,"column":42},"end":{"row":52,"column":43},"action":"remove","lines":["*"]}],[{"start":{"row":52,"column":42},"end":{"row":52,"column":43},"action":"insert","lines":[")"],"id":16}],[{"start":{"row":52,"column":42},"end":{"row":52,"column":43},"action":"remove","lines":[")"],"id":17}],[{"start":{"row":52,"column":42},"end":{"row":52,"column":43},"action":"insert","lines":["\""],"id":18},{"start":{"row":52,"column":43},"end":{"row":52,"column":44},"action":"insert","lines":[")"]},{"start":{"row":52,"column":44},"end":{"row":52,"column":45},"action":"insert","lines":[";"]}],[{"start":{"row":18,"column":28},"end":{"row":19,"column":0},"action":"insert","lines":["",""],"id":19}],[{"start":{"row":19,"column":0},"end":{"row":21,"column":4},"action":"insert","lines":["app.use(cors({","  exposedHeaders: ['Location'],","}));"],"id":20}],[{"start":{"row":22,"column":0},"end":{"row":22,"column":1},"action":"insert","lines":["*"],"id":21}],[{"start":{"row":22,"column":0},"end":{"row":22,"column":1},"action":"remove","lines":["*"],"id":22}],[{"start":{"row":22,"column":0},"end":{"row":22,"column":1},"action":"insert","lines":["/"],"id":23},{"start":{"row":22,"column":1},"end":{"row":22,"column":2},"action":"insert","lines":["*"]}],[{"start":{"row":29,"column":0},"end":{"row":29,"column":1},"action":"insert","lines":["*"],"id":24},{"start":{"row":29,"column":1},"end":{"row":29,"column":2},"action":"insert","lines":["/"]}],[{"start":{"row":46,"column":0},"end":{"row":46,"column":1},"action":"insert","lines":["/"],"id":25},{"start":{"row":46,"column":1},"end":{"row":46,"column":2},"action":"insert","lines":["/"]}],[{"start":{"row":46,"column":1},"end":{"row":46,"column":2},"action":"remove","lines":["/"],"id":26},{"start":{"row":46,"column":0},"end":{"row":46,"column":1},"action":"remove","lines":["/"]}],[{"start":{"row":19,"column":0},"end":{"row":21,"column":4},"action":"remove","lines":["app.use(cors({","  exposedHeaders: ['Location'],","}));"],"id":27}],[{"start":{"row":16,"column":0},"end":{"row":16,"column":1},"action":"insert","lines":["/"],"id":28},{"start":{"row":16,"column":1},"end":{"row":16,"column":2},"action":"insert","lines":["/"]}],[{"start":{"row":17,"column":0},"end":{"row":17,"column":1},"action":"insert","lines":["/"],"id":29},{"start":{"row":17,"column":1},"end":{"row":17,"column":2},"action":"insert","lines":["/"]}],[{"start":{"row":18,"column":0},"end":{"row":18,"column":1},"action":"insert","lines":["/"],"id":30},{"start":{"row":18,"column":1},"end":{"row":18,"column":2},"action":"insert","lines":["/"]}],[{"start":{"row":6,"column":0},"end":{"row":6,"column":1},"action":"insert","lines":["/"],"id":36},{"start":{"row":6,"column":1},"end":{"row":6,"column":2},"action":"insert","lines":["*"]}],[{"start":{"row":13,"column":0},"end":{"row":13,"column":1},"action":"insert","lines":["*"],"id":37},{"start":{"row":13,"column":1},"end":{"row":13,"column":2},"action":"insert","lines":["/"]}],[{"start":{"row":7,"column":0},"end":{"row":7,"column":1},"action":"insert","lines":["/"],"id":38},{"start":{"row":7,"column":1},"end":{"row":7,"column":2},"action":"insert","lines":["*"]}],[{"start":{"row":6,"column":1},"end":{"row":6,"column":2},"action":"remove","lines":["*"],"id":39},{"start":{"row":6,"column":0},"end":{"row":6,"column":1},"action":"remove","lines":["/"]}],[{"start":{"row":6,"column":21},"end":{"row":6,"column":22},"action":"remove","lines":["'"],"id":40}],[{"start":{"row":6,"column":21},"end":{"row":6,"column":22},"action":"insert","lines":["\""],"id":41}],[{"start":{"row":6,"column":26},"end":{"row":6,"column":27},"action":"remove","lines":["'"],"id":42}],[{"start":{"row":6,"column":26},"end":{"row":6,"column":27},"action":"insert","lines":["2"],"id":43}],[{"start":{"row":6,"column":26},"end":{"row":6,"column":27},"action":"remove","lines":["2"],"id":44}],[{"start":{"row":6,"column":26},"end":{"row":6,"column":27},"action":"insert","lines":["\""],"id":45}],[{"start":{"row":39,"column":0},"end":{"row":39,"column":1},"action":"insert","lines":["/"],"id":46},{"start":{"row":39,"column":1},"end":{"row":39,"column":2},"action":"insert","lines":["/"]}],[{"start":{"row":39,"column":1},"end":{"row":39,"column":2},"action":"remove","lines":["/"],"id":47},{"start":{"row":39,"column":0},"end":{"row":39,"column":1},"action":"remove","lines":["/"]}],[{"start":{"row":39,"column":0},"end":{"row":39,"column":1},"action":"insert","lines":["/"],"id":48},{"start":{"row":39,"column":1},"end":{"row":39,"column":2},"action":"insert","lines":["*"]}],[{"start":{"row":42,"column":0},"end":{"row":42,"column":1},"action":"insert","lines":["*"],"id":49},{"start":{"row":42,"column":1},"end":{"row":42,"column":2},"action":"insert","lines":["/"]}]]},"ace":{"folds":[],"scrolltop":402.22222900390625,"scrollleft":0,"selection":{"start":{"row":42,"column":2},"end":{"row":42,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":22,"state":"comment1","mode":"ace/mode/javascript"}},"timestamp":1610982244596}